# An docker image `databricks/sparkdl` need to be generated by run
#     $docker build -t databricks/sparkdl --build-arg PYTHON_VERSION=2.7 .
# on base directory. Currently we need to build it with Python2.

FROM databricks/graphframes

RUN sudo apt-get install -y python-pip && \
    sudo pip install --upgrade pip && \
    sudo pip install sphinx

RUN apt-get update && \
    apt-get install -y ruby ruby-dev && \
    apt-get clean

RUN gem install jekyll bundler
RUN gem install jekyll-redirect-from pygments.rb

WORKDIR /mnt/graphframes

# redefine the entrypoint to empty so that we can run the shell command with `docker run`.
ENTRYPOINT []
